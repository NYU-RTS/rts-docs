"use strict";(self.webpackChunkrts_docs_dev=self.webpackChunkrts_docs_dev||[]).push([["4665"],{608:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>l,default:()=>p,toc:()=>h,metadata:()=>o,assets:()=>u,contentTitle:()=>c});var o=JSON.parse('{"id":"hpc/connecting_to_hpc/connecting_to_hpc","title":"Connecting to the HPC Cluster","description":"There are several ways to interact with the Greene HPC cluster. Similar to other Linux clusters, the most common method of connection is via a Command Line Interface (CLI). A CLI is a program that allows you to create and delete files, run programs, and navigate through directories and files via a typed prompt. On Mac, the built-in CLI application is called Terminal. While Windows 11 machines support a Linux Subsystem, which allows for similar functionality, a popular tool used to connect to a Linux server is a free application called PuTTY.","source":"@site/docs/hpc/02_connecting_to_hpc/01_connecting_to_hpc.mdx","sourceDirName":"hpc/02_connecting_to_hpc","slug":"/hpc/connecting_to_hpc/connecting_to_hpc","permalink":"/pr-preview/pr-171/docs/hpc/connecting_to_hpc/connecting_to_hpc","draft":false,"unlisted":false,"editUrl":"https://github.com/NYU-RTS/rts-docs/blob/main/docs/hpc/02_connecting_to_hpc/01_connecting_to_hpc.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"hpcSidebar","previous":{"title":"How to approve an allocation request","permalink":"/pr-preview/pr-171/docs/hpc/getting_started/approving_an_allocation_request"},"next":{"title":"SSH Tunneling and X11 Forwarding","permalink":"/pr-preview/pr-171/docs/hpc/connecting_to_hpc/ssh_tunneling_and_x11_forwarding"}}'),i=t(74132),s=t(89447),r=t(80880),a=t(87118);let l={},c="Connecting to the HPC Cluster",u={},h=[{value:"Quick Start HPC Connection Guide",id:"quick-start-hpc-connection-guide",level:2},{value:"Setting Up an SSH Config File on Windows",id:"setting-up-an-ssh-config-file-on-windows",level:3},{value:"Connecting to the NYU Network",id:"connecting-to-the-nyu-network",level:3},{value:"Command Line Interface (with a Terminal)",id:"command-line-interface-with-a-terminal",level:2},{value:"Mac &amp; Linux Access",id:"mac--linux-access",level:3},{value:"VPN Connection",id:"vpn-connection",level:4},{value:"Gateway / SSH Tunneling Option",id:"gateway--ssh-tunneling-option",level:4},{value:"Windows CMD",id:"windows-cmd",level:3},{value:"Windows WSL2",id:"windows-wsl2",level:3},{value:"Additional Tips",id:"additional-tips",level:2},{value:"Setting up SSH Keys",id:"setting-up-ssh-keys",level:3},{value:"PuTTY (Only for Windows)",id:"putty-only-for-windows",level:3}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"connecting-to-the-hpc-cluster",children:"Connecting to the HPC Cluster"})}),"\n",(0,i.jsxs)(n.p,{children:["There are several ways to interact with the Greene HPC cluster. Similar to other Linux clusters, the most common method of connection is via a Command Line Interface (CLI). A CLI is a program that allows you to create and delete files, run programs, and navigate through directories and files via a typed prompt. On Mac, the built-in CLI application is called Terminal. While Windows 11 machines support a Linux Subsystem, which allows for similar functionality, a popular tool used to connect to a Linux server is a free application called ",(0,i.jsx)(n.a,{href:"https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html",children:"PuTTY"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If you'd prefer to access the HPC cluster via a web gateway instead, please refer to ",(0,i.jsx)(n.a,{href:"/pr-preview/pr-171/docs/hpc/ood/ood_intro",children:"the section describing Open OnDemand (OOD)"}),"."]})}),"\n",(0,i.jsx)(n.p,{children:"The following sections will outline basic ways to connect to the Greene cluster. Access to the clusters is primarily handled via the Secure Shell Protocol, or ssh. Below we outline ways to connect via ssh on Mac, Linux, and Windows machines."}),"\n",(0,i.jsx)(n.h2,{id:"quick-start-hpc-connection-guide",children:"Quick Start HPC Connection Guide"}),"\n",(0,i.jsx)(n.p,{children:"To connect to HPC systems, it's important to configure your machine's SSH client. For Linux and Mac machines, the configuration file is the ~/.ssh/config file on your computer. These are the basic lines that should be added to your ~/.ssh/config file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"Host greene.hpc.nyu.edu dtn.hpc.nyu.edu gw.hpc.nyu.edu\n  StrictHostKeyChecking no\n  ServerAliveInterval 60\n  ForwardAgent yes\n  UserKnownHostsFile /dev/null\n  LogLevel ERROR\n \nHost hpcgwtunnel\n  HostName gw.hpc.nyu.edu\n  ForwardX11 no\n  StrictHostKeyChecking no\n  LocalForward 8027 greene.hpc.nyu.edu:22\n  UserKnownHostsFile /dev/null\n  User <Your NetID>\n\nHost greene\n  HostName localhost\n  Port 8027\n  ForwardX11 yes\n  StrictHostKeyChecking no\n  UserKnownHostsFile /dev/null\n  LogLevel ERROR\n  User <Your NetID>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"setting-up-an-ssh-config-file-on-windows",children:"Setting Up an SSH Config File on Windows"}),"\n",(0,i.jsx)(n.p,{children:"For Windows, you can now follow a similar configuration setup. Using Powershell you can use the following to create and open a Windows SSH config file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Create the config file with Powershell\nNew-Item -Path $HOME\\.ssh\\config -ItemType File\n\n# Open config File with Notepad\nC:\\WINDOWS\\System32\\notepad.exe $HOME\\.ssh\\config\n"})}),"\n",(0,i.jsx)(n.p,{children:"Configuring the file above will allow you to use the cmd terminal to connect to Greene."}),"\n",(0,i.jsx)(n.h3,{id:"connecting-to-the-nyu-network",children:"Connecting to the NYU Network"}),"\n",(0,i.jsx)(n.p,{children:"To access the HPC systems, you must either be on the NYU secure network (such as the NYU WiFi or a wired connection from an NYU office) or use a method of accessing it, such as the NYU VPN or the HPC Gateway servers."}),"\n",(0,i.jsx)(n.admonition,{title:"Connecting to the HPC clusters from outside NYU Network",type:"info",children:(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.Z,{value:"VPN",label:"VPN (Preferred)",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.nyu.edu/life/information-technology/infrastructure/network-services/vpn.html",children:"Set up your computer to use the NYU VPN"}),". Once you've created a VPN connection, you can proceed as if you were connected to the NYU net"]})}),(0,i.jsx)(a.Z,{value:"Gateway",label:"Gateway",children:(0,i.jsx)(n.p,{children:"Go through our gateway servers (example below). Gateways are designed to support only a very minimal set of commands and their only purpose is to let users connect HPC systems without needing to first connect to the VPN"})})]})}),"\n",(0,i.jsx)(n.h2,{id:"command-line-interface-with-a-terminal",children:"Command Line Interface (with a Terminal)"}),"\n",(0,i.jsx)(n.h3,{id:"mac--linux-access",children:"Mac & Linux Access"}),"\n",(0,i.jsx)(n.h4,{id:"vpn-connection",children:"VPN Connection"}),"\n",(0,i.jsx)(n.p,{children:"If you're on the VPN or the main NYU network on campus you can SSH directly to greene like so:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"ssh <Your NetID>@greene.hpc.nyu.edu\n"})}),"\n",(0,i.jsx)(n.h4,{id:"gateway--ssh-tunneling-option",children:"Gateway / SSH Tunneling Option"}),"\n",(0,i.jsxs)(n.p,{children:["To connect to the gateway servers, after you've configured your ~/.ssh/config file, simply open a ",(0,i.jsx)(n.a,{href:"https://support.apple.com/guide/terminal/open-or-quit-terminal-apd5265185d-f365-44cb-8b09-71a064a42125/mac#:~:text=Open%20Terminal,%2C%20then%20double%2Dclick%20Terminal.",children:"terminal application"})," and follow these steps:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Open a terminal"}),"\n",(0,i.jsx)(n.li,{children:"Connect to the gateway via the ssh command:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"ssh hpcgwtunnel\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Authenticate with your password and Duo MFA"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Open a second terminal"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Connect to the Greene login nodes via the ssh command:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"ssh greene\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"6",children:["\n",(0,i.jsx)(n.li,{children:"Authenticate"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"After typing in your password you will be logged in to the cluster."}),"\n",(0,i.jsx)(n.h3,{id:"windows-cmd",children:"Windows CMD"}),"\n",(0,i.jsx)(n.p,{children:"Windows 11 users have several options. First, the CMD program should contain an ssh client, allowing you to log into the HPC systems the same way as with a Linux terminal."}),"\n",(0,i.jsx)(n.h3,{id:"windows-wsl2",children:"Windows WSL2"}),"\n",(0,i.jsx)(n.p,{children:"If you run Windows 10, you can install WSL, and then install Ubuntu or other Linux distribution (for example, from Microsoft Store). You will have a fully functional Ubuntu with terminal and can connect to cluster using instructions provided above for Linux/Mac users."}),"\n",(0,i.jsxs)(n.p,{children:["Instructions on WSL installation can be found here: ",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/windows/wsl/install-win10",children:"https://docs.microsoft.com/en-us/windows/wsl/install-win10"})]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"One of many options to get terminal that support tabs, etc. is to install 'Windows Terminal' from Microsoft Store."}),"\n",(0,i.jsxs)(n.li,{children:["If you are using WSL 2 (Windows subsystem for Linux), you may not be able to access internet when Cisco AnyConnect VPN, installed from exe file, is activated. A potential solution: uninstall Cisco AnyConnect and install AnyConnect using Microsoft Store, and then setup new VPN connection using settings described on ",(0,i.jsx)(n.a,{href:"https://nyu.service-now.com/sp?sys_kb_id=6177d7031c811904bbcf4dc2835ec340&id=kb_article_view&sysparm_rank=3&sysparm_tsqueryId=9a07fee81b146410a54ffdd51a4bcb8e",children:"IT webpage"}),"."]}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"additional-tips",children:"Additional Tips"}),"\n",(0,i.jsx)(n.p,{children:"Below are some additional options and tips for connecting to the HPC resources."}),"\n",(0,i.jsx)(n.h3,{id:"setting-up-ssh-keys",children:"Setting up SSH Keys"}),"\n",(0,i.jsx)(n.p,{children:"Instead of typing your password every time you need to log in, you can also specify an ssh key."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Only do that on the computer you trust"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Generate ssh key pair (terminal in Linux/Mac or cmd/WSL in Windows):\n",(0,i.jsx)(n.a,{href:"https://www.ssh.com/ssh/keygen/",children:"https://www.ssh.com/ssh/keygen/"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Note the path to ssh key files. Don't share key files with anybody - anybody with this key file can login to your account"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Log into cluster using regular login/password and then add the content of generated public key file (the one with .pub) to ",(0,i.jsx)(n.code,{children:"$HOME/.ssh/authorized_keys"})," on cluster"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Next time you will log into cluster no password will be required"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For additional recommendations on how to configure your SSH sessions, see the [ssh configuring and x11 forwarding page]."}),"\n",(0,i.jsx)(n.h3,{id:"putty-only-for-windows",children:"PuTTY (Only for Windows)"}),"\n",(0,i.jsxs)(n.p,{children:["There are many SSH clients for Windows OS, but we recommend using ",(0,i.jsx)(n.a,{href:"https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html",children:"PuTTY SSH"}),' if you have not already. Once it is installed, launch PuTTY and configure new session "Session" category as in the screenshot below:']}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"putty configuration image",src:t(86076).Z+"",width:"1292",height:"1166"})}),"\n",(0,i.jsx)(n.p,{children:"Here we are instructing PuTTY to connect to host gw.hpc.nyu.edu on port 22 using SSH protocol (note, that this interface allows you to save this connection configuration for future). Just like for Linux and Mac users, if you are connecting from the outside of NYU network, you need to go through the gateway servers."}),"\n",(0,i.jsx)(n.p,{children:'Once you click "Open", a terminal window with prompt for password will pop up. Enter your NetID password and you should be authorized on the gateway server. Gateways are designed to support only a very minimal set of commands and their only purpose it to let users access HPC systems. Once you are there type in an ssh command that will let you connect to Greene cluster :'}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"# Gateway Login\nssh gw.hpc.nyu.edu\n"})}),"\n",(0,i.jsx)(n.p,{children:"A new command line interface window will open up that prompts you for your password on the gateway server, from there you can connect to Greene by entering the following:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sh",children:"ssh greene.hpc.nyu.edu\n"})})]})}function p(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},87118:function(e,n,t){t.d(n,{Z:()=>s}),t(39546);var o=t(54461),i=t(74132);function s({children:e,hidden:n,className:t}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,o.Z)("tabItem_g7eQ",t),hidden:n,children:e})}},80880:function(e,n,t){t.d(n,{Z:()=>y});var o=t(39546),i=t(54461),s=t(24207),r=t(26936),a=t(13917),l=t(51667),c=t(67632),u=t(86145);function h(e){return o.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,o.isValidElement)(e)&&function(e){let{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function d({value:e,tabValues:n}){return n.some(n=>n.value===e)}var p=t(17121),m=t(74132);function f({className:e,block:n,selectedValue:t,selectValue:o,tabValues:r}){let a=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.o5)(),c=e=>{let n=e.currentTarget,i=r[a.indexOf(n)].value;i!==t&&(l(n),o(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{let t=a.indexOf(e.currentTarget)+1;n=a[t]??a[0];break}case"ArrowLeft":{let t=a.indexOf(e.currentTarget)-1;n=a[t]??a[a.length-1]}}n?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},e),children:r.map(({value:e,label:n,attributes:o})=>(0,m.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{a.push(e)},onKeyDown:u,onClick:c,...o,className:(0,i.Z)("tabs__item","tabItem_GtEZ",o?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function w({lazy:e,children:n,selectedValue:t}){let s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){let e=s.find(e=>e.props.value===t);return e?(0,o.cloneElement)(e,{className:(0,i.Z)("margin-top--md",e.props.className)}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function g(e){let n=function(e){let{defaultValue:n,queryString:t=!1,groupId:i}=e,s=function(e){let{values:n,children:t}=e;return(0,o.useMemo)(()=>{let e=n??h(t).map(({props:{value:e,label:n,attributes:t,default:o}})=>({value:e,label:n,attributes:t,default:o})),o=(0,c.lx)(e,(e,n)=>e.value===n.value);if(o.length>0)throw Error(`Docusaurus error: Duplicate values "${o.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`);return e},[n,t])}(e),[p,m]=(0,o.useState)(()=>(function({defaultValue:e,tabValues:n}){if(0===n.length)throw Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!d({value:e,tabValues:n}))throw Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}let t=n.find(e=>e.default)??n[0];if(!t)throw Error("Unexpected error: 0 tabValues");return t.value})({defaultValue:n,tabValues:s})),[f,w]=function({queryString:e=!1,groupId:n}){let t=(0,r.k6)(),i=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,l._X)(i),(0,o.useCallback)(e=>{if(!i)return;let n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})},[i,t])]}({queryString:t,groupId:i}),[g,y]=function({groupId:e}){let n=e?`docusaurus.tab.${e}`:null,[t,i]=(0,u.Nk)(n);return[t,(0,o.useCallback)(e=>{n&&i.set(e)},[n,i])]}({groupId:i}),x=(()=>{let e=f??g;return d({value:e,tabValues:s})?e:null})();return(0,a.Z)(()=>{x&&m(x)},[x]),{selectedValue:p,selectValue:(0,o.useCallback)(e=>{if(!d({value:e,tabValues:s}))throw Error(`Can't select invalid tab value=${e}`);m(e),w(e),y(e)},[w,y,s]),tabValues:s}}(e);return(0,m.jsxs)("div",{className:(0,i.Z)("tabs-container","tabList_fjTJ"),children:[(0,m.jsx)(f,{...n,...e}),(0,m.jsx)(w,{...n,...e})]})}function y(e){let n=(0,p.Z)();return(0,m.jsx)(g,{...e,children:h(e.children)},String(n))}},86076:function(e,n,t){t.d(n,{Z:()=>o});let o=t.p+"assets/images/putty_config-1870760ac54d7b38b1447a6e082ccea2.png"},89447:function(e,n,t){t.d(n,{Z:()=>a,a:()=>r});var o=t(39546);let i={},s=o.createContext(i);function r(e){let n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);