"use strict";(self.webpackChunkrts_docs_dev=self.webpackChunkrts_docs_dev||[]).push([["1378"],{7348:function(e,n,s){s.r(n),s.d(n,{metadata:()=>r,default:()=>h,frontMatter:()=>o,contentTitle:()=>c,toc:()=>l,assets:()=>a});var r=JSON.parse('{"id":"hpc/storage/sharing_data_on_hpc","title":"Sharing Data on HPC","description":"Introduction","source":"@site/docs/hpc/03_storage/08_sharing_data_on_hpc.md","sourceDirName":"hpc/03_storage","slug":"/hpc/storage/sharing_data_on_hpc","permalink":"/pr-preview/pr-248/docs/hpc/storage/sharing_data_on_hpc","draft":false,"unlisted":false,"editUrl":"https://github.com/NYU-RTS/rts-docs/blob/main/docs/hpc/03_storage/08_sharing_data_on_hpc.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{},"sidebar":"hpcSidebar","previous":{"title":"Transferring Cloud Storage Data with rclone","permalink":"/pr-preview/pr-248/docs/hpc/storage/transferring_cloud_storage_data_with_rclone"},"next":{"title":"Datasets Available","permalink":"/pr-preview/pr-248/docs/hpc/datasets/intro"}}'),t=s(47259),i=s(55511);let o={},c="Sharing Data on HPC",a={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Anatomy of an Access Control Entry",id:"anatomy-of-an-access-control-entry",level:3},{value:"Creating and Applying ACLs",id:"creating-and-applying-acls",level:3}];function d(e){let n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"sharing-data-on-hpc",children:"Sharing Data on HPC"})}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(n.p,{children:["To share files on the cluster with other users, we recommend using NFSv4 Access Control Lists (ACL) for a user to share access to their data with others. NFSv4 ACL mechanism allows for fine-grained control access to any files by any users or groups of users. We discourage users from setting ",(0,t.jsx)(n.code,{children:"777"})," permissions with ",(0,t.jsx)(n.code,{children:"chmod"}),", because this can lead to data loss (by a malicious user or unintentionally, by accident)."]}),"\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"Torch supports NFSv4 ACLs rather than the POSIX ACLs supported by Greene! NFSv4 ACLs allow for more fine grained control when compared to POSIX ACLs."})}),"\n",(0,t.jsx)(n.h3,{id:"anatomy-of-an-access-control-entry",children:"Anatomy of an Access Control Entry"}),"\n",(0,t.jsx)(n.p,{children:"An Access Control List is composed of Access Control Entries, each of which has the following structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"[type]:[flags]:[principal]:[permissions]\n"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"type"}),": kind of ACE entry, we recommend only using ",(0,t.jsx)(n.code,{children:"A"})," (access). Deny type entries make the ACE more complex to reason about when compared to using only access type entries for the same configuration. We strongly urge you to not use them."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"flags"}),": inheritance flags which apply to directories and control how ACEs are inherited, with the following available::\n| ",(0,t.jsx)(n.code,{children:"f"}),"  | files inherit ACEs, but inheritance flags are not set on the files      |\n| ",(0,t.jsx)(n.code,{children:"d"}),"  | directories inherit both the ACE and the inheritance flags              |\n| ",(0,t.jsx)(n.code,{children:"i"}),"  | only inherit the inheritance flags, ACEs do not apply to this directory |\n| ",(0,t.jsx)(n.code,{children:"n"}),"  | directories only inherit ACEs, not the inheritance flags and a special  |\nand a special ",(0,t.jsx)(n.code,{children:"g"})," flag that is only used when the principal is a group."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"principal"}),": the user or group to apply the ACE to. Note the presence of special principals ",(0,t.jsx)(n.code,{children:"OWNER"}),", ",(0,t.jsx)(n.code,{children:"GROUP"})," (which refer to the owner and default group) and ",(0,t.jsx)(n.code,{children:"EVERYONE"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"permissions"}),": the level of access to grant. Aliases for most common uses include:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"R"}),": Read, alias for ",(0,t.jsx)(n.code,{children:"rntcy"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"W"}),": Write, alias for ",(0,t.jsx)(n.code,{children:"watTNcCy"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"X"}),": Execute, alias for ",(0,t.jsx)(n.code,{children:"watTNcCy"}),"\nthe full set of permission entry types are listed below for reference."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"creating-and-applying-acls",children:"Creating and Applying ACLs"}),"\n",(0,t.jsx)(n.p,{children:"The following commands are available:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"nfs4_setfacl"})," to set ACEs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"nfs4_editfacl"})," to edit ACEs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"nfs4_getfacl"})," to view ACLs"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},55511:function(e,n,s){s.d(n,{R:()=>o,x:()=>c});var r=s(96363);let t={},i=r.createContext(t);function o(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);