<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-hpc/tutorial_intro_shell_hpc/scripts_variables_loops" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Scripts, variables, and loops | Connecting researchers to computational resources.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://services.rt.nyu.edu/pr-preview/pr-193/img/NYU.svg"><meta data-rh="true" name="twitter:image" content="https://services.rt.nyu.edu/pr-preview/pr-193/img/NYU.svg"><meta data-rh="true" property="og:url" content="https://services.rt.nyu.edu/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/scripts_variables_loops/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Scripts, variables, and loops | Connecting researchers to computational resources."><meta data-rh="true" name="description" content="Questions"><meta data-rh="true" property="og:description" content="Questions"><link data-rh="true" rel="icon" href="/pr-preview/pr-193/img/NYU.ico"><link data-rh="true" rel="canonical" href="https://services.rt.nyu.edu/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/scripts_variables_loops/"><link data-rh="true" rel="alternate" href="https://services.rt.nyu.edu/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/scripts_variables_loops/" hreflang="en"><link data-rh="true" rel="alternate" href="https://services.rt.nyu.edu/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/scripts_variables_loops/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Scripts, variables, and loops","item":"https://services.rt.nyu.edu/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/scripts_variables_loops"}]}</script><link rel="alternate" type="application/rss+xml" href="/pr-preview/pr-193/blog/rss.xml" title="Connecting researchers to computational resources. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pr-preview/pr-193/blog/atom.xml" title="Connecting researchers to computational resources. Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2DXB3BDH70"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2DXB3BDH70",{anonymize_ip:!0})</script><link rel="stylesheet" href="/pr-preview/pr-193/assets/css/styles.f70cced0.css">
<script src="/pr-preview/pr-193/assets/js/runtime~main.0824a3e3.js" defer="defer"></script>
<script src="/pr-preview/pr-193/assets/js/main.bdfd79c4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/pr-preview/pr-193/img/NYU.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_bHSa" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pr-preview/pr-193/"><div class="navbar__logo"><img src="/pr-preview/pr-193/img/NYU.svg" alt="NYU torch logo" class="themedComponent_ypQ_ themedComponent--light_qQSo"><img src="/pr-preview/pr-193/img/NYU.svg" alt="NYU torch logo" class="themedComponent_ypQ_ themedComponent--dark_m0FH"></div><b class="navbar__title text--truncate">Research Technology Services</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/pr-preview/pr-193/docs/genai/getting_started/intro/">Pythia</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pr-preview/pr-193/docs/hpc/getting_started/intro/">HPC</a><a class="navbar__item navbar__link" href="/pr-preview/pr-193/docs/cloud/getting_started/intro/">Cloud</a><a class="navbar__item navbar__link" href="/pr-preview/pr-193/docs/srde/getting_started/intro/">SRDE</a><a href="https://hsrn.nyu.edu/docs/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">HSRN<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a><a class="navbar__item navbar__link" href="/pr-preview/pr-193/blog/">Announcements</a><div class="toggle_QBuD colorModeToggle_y_72"><button class="clean-btn toggleButton_lwp1 toggleButtonDisabled_HT4F" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Djgd lightToggleIcon_DYGl"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Djgd darkToggleIcon_IJRp"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Djgd systemToggleIcon_dFXK"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_ASv1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_zMx_"><div class="docsWrapper_vlUk"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_nMwe" type="button"></button><div class="docRoot_wnou"><aside class="theme-doc-sidebar-container docSidebarContainer_JrTY"><div class="sidebarViewport_wVN_"><div class="sidebar_Zo3G"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_XvAV"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/getting_started/intro/"><span title="Getting Started" class="categoryLinkLabel_IRz3">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/connecting_to_hpc/connecting_to_hpc/"><span title="Setup" class="categoryLinkLabel_IRz3">Setup</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/storage/intro_and_data_management/"><span title="Storage &amp; Data transfers" class="categoryLinkLabel_IRz3">Storage &amp; Data transfers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/datasets/intro/"><span title="Datasets" class="categoryLinkLabel_IRz3">Datasets</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/submitting_jobs/slurm_submitting_jobs/"><span title="Submitting jobs" class="categoryLinkLabel_IRz3">Submitting jobs</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/tools_and_software/intro/"><span title="Tools &amp; Software" class="categoryLinkLabel_IRz3">Tools &amp; Software</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/containers/intro/"><span title="Containers" class="categoryLinkLabel_IRz3">Containers</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/ml_ai_hpc/intro/"><span title="ML/AI on HPC" class="categoryLinkLabel_IRz3">ML/AI on HPC</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/ood/ood_intro/"><span title="Open OnDemand (OOD)" class="categoryLinkLabel_IRz3">Open OnDemand (OOD)</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-193/docs/hpc/spec_sheet/"><span title="Torch Spec Sheet" class="linkLabel_RgMO">Torch Spec Sheet</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/pr-preview/pr-193/docs/hpc/system_status/"><span title="Greene System Status" class="linkLabel_RgMO">Greene System Status</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/intro/"><span title="Tutorial: Intro to Shell for HPC" class="categoryLinkLabel_IRz3">Tutorial: Intro to Shell for HPC</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/intro/"><span title="Introduction to Using the Shell on Greene" class="linkLabel_RgMO">Introduction to Using the Shell on Greene</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/connecting_to_hpc/"><span title="Connecting to the remote HPC system Greene" class="linkLabel_RgMO">Connecting to the remote HPC system Greene</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/moving_looking/"><span title="Moving around and looking at things" class="linkLabel_RgMO">Moving around and looking at things</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/writing_reading_files/"><span title="Writing and Reading Files" class="linkLabel_RgMO">Writing and Reading Files</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/wildcards_pipes/"><span title="Wildcards and Pipes" class="linkLabel_RgMO">Wildcards and Pipes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/scripts_variables_loops/"><span title="Scripts, variables, and loops" class="linkLabel_RgMO">Scripts, variables, and loops</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_hpc/intro_hpc/"><span title="Tutorial: Intro to HPC" class="categoryLinkLabel_IRz3">Tutorial: Intro to HPC</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OTIz menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/pr-preview/pr-193/docs/hpc/support/support/"><span title="Support" class="categoryLinkLabel_IRz3">Support</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_KK_H"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_K3iM"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_p7J4"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol__lxn"><div class="docItemContainer_T58M"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_mYRa" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/pr-preview/pr-193/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_einq"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial: Intro to Shell for HPC</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Scripts, variables, and loops</span></li></ul></nav><div class="tocCollapsible_FsOG theme-doc-toc-mobile tocMobile_e85Q"><button type="button" class="clean-btn tocCollapsibleButton_R0hy">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Scripts, variables, and loops</h1></header>
<div class="theme-admonition theme-admonition-note admonition_aeex alert alert--secondary"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Overview</div><div class="admonitionContent_vzt9"><p>Questions</p><ul>
<li>How do I turn a set of commands into a program?</li>
</ul><p>Objectives</p><ul>
<li>Write a shell script</li>
<li>Understand and manipulate UNIX permissions</li>
<li>Understand shell variables and how to use them</li>
<li>Write a simple <code>for</code> loop.</li>
</ul></div></div>
<p>We now know a lot of UNIX commands! Wouldn’t it be great if we could save certain commands so that we could run them later or not have to type them out again? As it turns out, this is straightforward to do. A “shell script” is essentially a text file containing a list of UNIX commands to be executed in a sequential manner. These shell scripts can be run whenever we want, and are a great way to automate our work.</p>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="writing-a-script">Writing a Script<a href="#writing-a-script" class="hash-link" aria-label="Direct link to Writing a Script" title="Direct link to Writing a Script" translate="no">​</a></h2>
<p>So how do we write a shell script, exactly? It turns out we can do this with a text editor. Start editing a file called <code>demo.sh</code> (to recap, we can do this with <code>nano demo.sh</code>). The <code>.sh</code> is the standard file extension for shell scripts that most people use (you may also see <code>.bash</code> used).</p>
<p>Our shell script will have two parts:</p>
<ul>
<li>On the very first line, add <code>#!/bin/bash</code>. The <code>#!</code> (pronounced “hash-bang”) tells our computer what program to run our script with. In this case, we are telling it to run our script with our command-line shell (what we’ve been doing everything in so far). If we wanted our script to be run with something else, like Perl, we could use <code>#!/usr/bin/perl</code> instead.</li>
<li>Now, anywhere below the first line, add <code>echo &quot;Our script worked!&quot;</code>. When our script runs, <code>echo</code> will happily print out &quot;Our script worked!&quot;.</li>
</ul>
<p>Our file should now look like this:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;Our script worked!&quot;</span><br></span></code></pre></div></div>
<p>Ready to run our program? Let’s try running it:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ demo.sh </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">bash: demo.sh: </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">command</span><span class="token plain"> not found</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">.</span><br></span></code></pre></div></div>
<p>Strangely enough, Bash can’t find our script. As it turns out, Bash will only look in certain directories for scripts to run. To run anything else, we need to tell Bash exactly where to look. To run a script that we wrote ourselves, we need to specify the full path to the file, followed by the filename. We could do this one of two ways:</p>
<ul>
<li>with our absolute path /home/yourNetID/demo.sh</li>
<li>with the relative path ./demo.sh</li>
</ul>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ ./demo.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">bash: ./demo.sh: Permission denied</span><br></span></code></pre></div></div>
<p>There’s one last thing we need to do. Before a file can be run, it needs &#x27;permission&#x27; to run. We&#x27;ll get a better understanding of Linux file permissions in the next section that will allow us to finally run our script.</p>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="permissions">Permissions<a href="#permissions" class="hash-link" aria-label="Direct link to Permissions" title="Direct link to Permissions" translate="no">​</a></h2>
<p>Let’s look at our file’s permissions with <code>ls -l</code>:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">12534006</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">18</span><span class="token plain">:50 bash-lesson.tar.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">       </span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:41 demo.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">77426528</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">18</span><span class="token plain">:50 dmel-all-r6.19.gtf</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-r--r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">   </span><span class="token number" style="color:hsl(35, 99%, 36%)">721242</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">25</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">2016</span><span class="token plain"> dmel_unique_protein_is</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">drwxrwxr-x </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">     </span><span class="token number" style="color:hsl(35, 99%, 36%)">4096</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:16 fastq</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-r--r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">1830516</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">25</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">2016</span><span class="token plain"> gene_association.fb.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">       </span><span class="token number" style="color:hsl(35, 99%, 36%)">15</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:17 test.txt</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">      </span><span class="token number" style="color:hsl(35, 99%, 36%)">245</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:24 word_counts.txt</span><br></span></code></pre></div></div>
<p>That’s a huge amount of output: a full listing of everything in the directory. Let’s see if we can understand what each field of a given row represents, working from the left to right.</p>
<div class="theme-admonition theme-admonition-info admonition_aeex alert alert--info"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What each column of the output above means:</div><div class="admonitionContent_vzt9"><div class="theme-tabs-container tabs-container tabList_e4c6"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_iKx7 tabs__item--active">File/Directory Permissions</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_iKx7">References</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_iKx7">Owner</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_iKx7">Group</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_iKx7">Size of item</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_iKx7">Time last modified</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_iKx7">Filename</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Giz0"><p>This column contains a block of subcolumns that define the permissions for a file or directory given in each row.  The permissions are shown for three user types to perform three actions each.</p><p>The user types are:</p><ul>
<li>user (<code>u</code>): This refers to your permissions for this file/directory.</li>
<li>group (<code>g</code>): This refers to the permissions for people in the same group as this file/directory.  You will see the group in the 4th column.</li>
<li>other (<code>o</code>): This refers to the permissions for all other users.</li>
</ul><p>The actions are:</p><ul>
<li>read (<code>r</code>): This refers to the permission to read this file.</li>
<li>write (<code>w</code>): This refers to the permission to write to this file.</li>
<li>execute (<code>x</code>): This refers to the permission to execute this file.</li>
</ul><p>The following table show what each of the subcolumns refer to and their possible values:</p><table><thead><tr><th>directory</th><th>user read</th><th>user write</th><th>user execute</th><th>group read</th><th>group write</th><th>group execute</th><th>other read</th><th>other write</th><th>other execute</th></tr></thead><tbody><tr><td><code>d</code> or <code>-</code></td><td><code>r</code> or <code>-</code></td><td><code>w</code> or <code>-</code></td><td><code>x</code> or <code>-</code></td><td><code>r</code> or <code>-</code></td><td><code>w</code> or <code>-</code></td><td><code>x</code> or <code>-</code></td><td><code>r</code> or <code>-</code></td><td><code>w</code> or <code>-</code></td><td><code>x</code> or <code>-</code></td></tr></tbody></table><p>If there is a <code>-</code> in the directory column, the row refers to a file.  If it contains a <code>d</code>, the row refers to a directory.  The following columns behave in a similar manner. If they contain a <code>-</code>, the associated action is not allowed for the associated user type.</p></div><div role="tabpanel" class="tabItem_Giz0" hidden=""><p>This counts the number of references (hard links) to the item (file, folder, symbolic link or “shortcut”).</p></div><div role="tabpanel" class="tabItem_Giz0" hidden=""><p>This is the username of the user who owns the file.</p><div class="theme-admonition theme-admonition-tip admonition_aeex alert alert--success"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_vzt9"><p>Their permissions are indicated in the first permissions block of three after the directory column</p></div></div></div><div role="tabpanel" class="tabItem_Giz0" hidden=""><p>Each user has a primary group and is optionally a member of other groups. When a user creates a file, it is normally associated with the user’s primary group. At NYU HPC, all users are in a group named ‘users’, so group permission has little meaning.
::: tip
Other members of this group have the permissions in the second block of three after the directory column
:::</p></div><div role="tabpanel" class="tabItem_Giz0" hidden=""><p>This is the number of bytes in a file, or the number of filesystem blocks occupied by the contents of a folder.</p><div class="theme-admonition theme-admonition-tip admonition_aeex alert alert--success"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_vzt9"><p>We can use the <code>-h</code> option here to get a human-readable file size in megabytes, gigabytes, etc.</p></div></div></div><div role="tabpanel" class="tabItem_Giz0" hidden=""><p>This is the last time the file was modified.</p></div><div role="tabpanel" class="tabItem_Giz0" hidden=""><p>This is the name of the file/directory.</p></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="changing-permissions">Changing Permissions<a href="#changing-permissions" class="hash-link" aria-label="Direct link to Changing Permissions" title="Direct link to Changing Permissions" translate="no">​</a></h2>
<p>As previously mentioned, in Unix a file has three basic permissions, each of which can be set for three types of user. Those three permission also have a numeric value:</p>
<ul>
<li>Read permission (“r”) - numeric value 4.</li>
<li>Write permission (“w”) - numeric value 2.</li>
<li>Execute permission (“x”) - numeric value 1.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_aeex alert alert--secondary"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vzt9"><p>When applied to a directory, execute permission refers to whether the directory can be entered with <code>cd</code>.</p></div></div>
<p>You&#x27;ll need to use the <code>chmod</code> command to modify permissions.  You grant permissions with <code>chmod who+what file</code> and revoke them with <code>chmod who-what file</code>. (Notice that the first has <code>+</code> and the second <code>-</code>). Here, “who” is some combination of “u”, “g”, and “o”, and “what” is some combination of “r”, “w”, and “x”.  Leaving out the <code>who</code> part of the command applies it to all user types.</p>
<p>So, to set execute permission we use:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">chmod</span><span class="token plain"> +x demo.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">12534006</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">18</span><span class="token plain">:50 bash-lesson.tar.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rwxrwxr-x </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">       </span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:41 demo.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">77426528</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">18</span><span class="token plain">:50 dmel-all-r6.19.gtf</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-r--r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">   </span><span class="token number" style="color:hsl(35, 99%, 36%)">721242</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">25</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">2016</span><span class="token plain"> dmel_unique_protein_is</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">drwxrwxr-x </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">     </span><span class="token number" style="color:hsl(35, 99%, 36%)">4096</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:16 fastq</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-r--r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">1830516</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">25</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">2016</span><span class="token plain"> gene_association.fb.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">       </span><span class="token number" style="color:hsl(35, 99%, 36%)">15</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:17 test.txt</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">      </span><span class="token number" style="color:hsl(35, 99%, 36%)">245</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:24 word_counts.txt</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="executing-script">Executing Script<a href="#executing-script" class="hash-link" aria-label="Direct link to Executing Script" title="Direct link to Executing Script" translate="no">​</a></h2>
<p>Now that we have executable permissions for that file, we can run it.</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ ./demo.sh</span><br></span></code></pre></div></div>
<p>Our script worked!  Fantastic, we’ve written our first program!</p>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="comments">Comments<a href="#comments" class="hash-link" aria-label="Direct link to Comments" title="Direct link to Comments" translate="no">​</a></h2>
<p>Before we go any further, let’s learn how to take notes inside our program using comments. A comment is indicated by the <code>#</code> character, followed by whatever we want. Comments do not get run. Let’s try out some comments in the console, then add one to our script!</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token comment" style="color:hsl(230, 4%, 64%)"># This won&#x27;t show anything.</span><br></span></code></pre></div></div>
<p>Now let&#x27;s try adding this to our script with nano. Edit your script to look something like this:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># This is a comment... they are nice for making notes!</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;Our script worked!&quot;</span><br></span></code></pre></div></div>
<p>When we run our script, the output should be unchanged from before!</p>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="shell-variables">Shell variables<a href="#shell-variables" class="hash-link" aria-label="Direct link to Shell variables" title="Direct link to Shell variables" translate="no">​</a></h2>
<p>One important concept that we’ll need to cover are shell variables. Variables are a great way of saving information under a name you can access later. In programming languages like Python and R, variables can store pretty much anything you can think of. In the shell, they usually just store text. The best way to understand how they work is to see them in action.</p>
<p>To set a variable, simply type in a name containing only letters, numbers, and underscores, followed by an <code>=</code> and whatever you want to put in the variable. Shell variable names are often uppercase by convention (but do not have to be).</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">VAR</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;This is our variable&quot;</span><br></span></code></pre></div></div>
<p>To use a variable, prefix its name with a <code>$</code> sign. Note that if we want to simply check what a variable is, we should use <code>echo</code> (or else the shell will try to run the contents of a variable).</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$VAR</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">This is our variable</span><br></span></code></pre></div></div>
<p>Let’s try setting a variable in our script and then recalling its value as part of a command. We’re going to make it so our script runs <code>wc -l</code> on whichever file we specify with <code>FILE</code>.</p>
<p>Our script:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># set our variable to the name of our GTF file</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">FILE</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">dmel-all-r6.19.gtf</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># call wc -l on our file</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">wc</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$FILE</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ ./demo.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">542048</span><span class="token plain"> dmel-all-r6.19.gtf</span><br></span></code></pre></div></div>
<p>What if we wanted to do our little <code>wc -l</code> script on other files without having to change <code>$FILE</code> every time we want to use it? There is actually a special shell variable we can use in scripts that allows us to use arguments in our scripts (arguments are extra information that we can pass to our script, like the <code>-l</code> in <code>wc -l</code>).</p>
<p>To use the first argument to a script, use <code>$1</code> (the second argument is <code>$2</code>, and so on). Let’s change our script to run <code>wc -l</code> on <code>$1</code> instead of <code>$FILE</code>. Note that we can also pass all of the arguments using <code>$@</code> (not going to use it in this lesson, but it’s something to be aware of).</p>
<p>Our script:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token comment" style="color:hsl(230, 4%, 64%)"># call wc -l on our first argument</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token function" style="color:hsl(221, 87%, 60%)">wc</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$1</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ ./demo.sh dmel_unique_protein_isoforms_fb_2016_01.tsv</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token number" style="color:hsl(35, 99%, 36%)">22129</span><span class="token plain"> dmel_unique_protein_isoforms_fb_2016_01.tsv</span><br></span></code></pre></div></div>
<p>Nice! One thing to be aware of when using variables: they are all treated as pure text. How do we save the output of an actual command like <code>ls -l</code>?</p>
<p>First, a demonstration of what doesn’t work:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">TEST</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">ls </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-bash: -l: </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">command</span><span class="token plain"> not found</span><br></span></code></pre></div></div>
<p>What does work? We need to surround any command with <code>$(command)</code>:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">TEST</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$TEST</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">total </span><span class="token number" style="color:hsl(35, 99%, 36%)">90372</span><span class="token plain"> -rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">12534006</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">18</span><span class="token plain">:50 bash-lesson.tar.gz -rwxrwxr-x. </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">40</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">1619</span><span class="token plain">:41 demo.sh -rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">77426528</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">18</span><span class="token plain">:50 dmel-all-r6.19.gtf -rw-r--r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">721242</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">25</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2016</span><span class="token plain"> dmel_unique_protein_isoforms_fb_2016_01.tsv drwxrwxr-x. </span><span class="token number" style="color:hsl(35, 99%, 36%)">2</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">4096</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:16 fastq -rw-r--r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">1830516</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">25</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">2016</span><span class="token plain"> gene_association.fb.gz -rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">15</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:17 test.txt -rw-rw-r-- </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> jeff jeff </span><span class="token number" style="color:hsl(35, 99%, 36%)">245</span><span class="token plain"> Jan </span><span class="token number" style="color:hsl(35, 99%, 36%)">16</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">19</span><span class="token plain">:24 word_counts.txt</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_aeex alert alert--secondary"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vzt9"><p>Everything got printed on the same line. This is a feature, not a bug, as it allows us to use $(commands) inside lines of script without triggering line breaks (which would end our line of code and execute it prematurely).</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_nzaP" id="loops">Loops<a href="#loops" class="hash-link" aria-label="Direct link to Loops" title="Direct link to Loops" translate="no">​</a></h2>
<p>To end our lesson on scripts, we are going to learn how to write a for-loop to execute a lot of commands at once. This will let us do the same string of commands on every file in a directory (or other stuff of that nature).</p>
<p>for-loops generally have the following syntax:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">VAR</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> first second third</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$VAR</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div>
<p>When a for-loop gets run, the loop will run once for everything following the word <code>in</code>. In each iteration, the variable <code>$VAR</code> is set to a particular value for that iteration. In this case it will be set to <code>first</code> during the first iteration, <code>second</code> on the second, and so on. During each iteration, the code between <code>do</code> and <code>done</code> is performed.</p>
<p>Let’s run the script we just wrote (I saved mine as <code>loop.sh</code>).</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">chmod</span><span class="token plain"> +x loop.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ ./loop.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">first</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">second</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">third</span><br></span></code></pre></div></div>
<p>What if we wanted to loop over a shell variable, such as every file in the current directory? Shell variables work perfectly in for-loops. In this example, we’ll save the result of <code>ls</code> and loop over each file:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">FILES</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">VAR</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$FILES</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">        </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$VAR</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ ./loop.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">bash-lesson.tar.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">demo.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">dmel_unique_protein_isoforms_fb_2016_01.tsv</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">dmel-all-r6.19.gtf</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">fastq</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gene_association.fb.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">loop.sh</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">test.txt</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">word_counts.txt</span><br></span></code></pre></div></div>
<p>There’s a shortcut to run on all files of a particular type, say all <code>.gz</code> files:</p>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">VAR</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> *.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$VAR</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">bash-lesson.tar.gz</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gene_association.fb.gz</span><br></span></code></pre></div></div>
<details class="details_CECO alert alert--info details_oCvs" data-collapsed="true"><summary><div class="theme-admonition theme-admonition-info admonition_aeex alert alert--info"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Writing our own scripts and loops</div><div class="admonitionContent_vzt9"><p><code>cd</code> to our <code>fastq</code> directory from earlier and write a loop to print off the name and top 4 lines of every fastq file in that directory.</p><p>Is there a way to only run the loop on fastq files ending in _1.fastq? <br>
<strong>[Click for Solution]</strong></p></div></div></summary><div><div class="collapsibleContent_c3NZ"><div class="theme-admonition theme-admonition-tip admonition_aeex alert alert--success"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Solution</div><div class="admonitionContent_vzt9"><p>Create the following script in a file called <code>head_all.sh</code></p><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">FILE</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> *.fasatq</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$FILE</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token function" style="color:hsl(221, 87%, 60%)">head</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-n</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">4</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$FILE</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div><p>The <code>for</code> line could be modified to be <code>for FILE in *_1.fastq</code> to achieve the second aim.</p></div></div></div></div></details>
<details class="details_CECO alert alert--info details_oCvs" data-collapsed="true"><summary><div class="theme-admonition theme-admonition-info admonition_aeex alert alert--info"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Concatenating variables</div><div class="admonitionContent_vzt9"><p>Concatenating (i.e. mashing together) variables is quite easy to do. Add whatever you want to concatenate to the beginning or end of the shell variable after enclosing it in <code>{}</code> characters.</p><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token assign-left variable" style="color:hsl(221, 87%, 60%)">FILE</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">stuff.txt</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">${FILE}</span><span class="token plain">.example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">stuff.txt.example</span><br></span></code></pre></div></div><p>Can you write a script that prints off the name of every file in a directory with <code>.processed</code> added to it? <br>
<strong>[Click for Solution]</strong></p></div></div></summary><div><div class="collapsibleContent_c3NZ"><div class="theme-admonition theme-admonition-tip admonition_aeex alert alert--success"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Solution</div><div class="admonitionContent_vzt9"><p>Create the following script in a file called <code>process.sh</code>:</p><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">FILE</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> *</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">${FILE}</span><span class="token plain">.processed</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div><div class="theme-admonition theme-admonition-note admonition_aeex alert alert--secondary"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_vzt9"><p>This will also print directories appended with <code>.processed</code>.</p></div></div><p>To truly only get files and not directories, we need to modify this to use the <code>find</code> command to give us only files in the current directory:</p><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">FILE</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">find</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable builtin class-name" style="color:hsl(35, 99%, 36%)">.</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-maxdepth</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable number" style="color:hsl(35, 99%, 36%)">1</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-type</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> f</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">${FILE}</span><span class="token plain">.processed</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div><p>but this will have the side effect of listing hidden files too.  We can fix this by making a small change to the find command:</p><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token shebang important" style="color:hsl(230, 8%, 24%);font-weight:bold">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:hsl(221, 87%, 60%)">FILE</span><span class="token plain"> </span><span class="token keyword" style="color:hsl(301, 63%, 40%)">in</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">$(</span><span class="token variable function" style="color:hsl(221, 87%, 60%)">find</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable builtin class-name" style="color:hsl(35, 99%, 36%)">.</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-maxdepth</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable number" style="color:hsl(35, 99%, 36%)">1</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-type</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> f </span><span class="token variable operator" style="color:hsl(221, 87%, 60%)">!</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-name</span><span class="token variable" style="color:hsl(221, 87%, 60%)"> </span><span class="token variable string" style="color:hsl(119, 34%, 47%)">&quot;.*&quot;</span><span class="token variable" style="color:hsl(221, 87%, 60%)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">    </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">echo</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">${FILE}</span><span class="token plain">.processed</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token keyword" style="color:hsl(301, 63%, 40%)">done</span><br></span></code></pre></div></div><p>We&#x27;ve added <code>! -name &quot;.*&quot;</code> to the <code>find</code> command.  It means <code>not</code> (<code>!</code>) a name that starts with <code>.</code>.<br>
As you can see, programming is often iterative in more ways than one. <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-smile" aria-hidden="true"><circle cx="12" cy="12" r="10"></circle><path d="M8 14s1.5 2 4 2 4-2 4-2"></path><line x1="9" x2="9.01" y1="9" y2="9"></line><line x1="15" x2="15.01" y1="9" y2="9"></line></svg></p></div></div></div></div></details>
<details class="details_CECO alert alert--info details_oCvs" data-collapsed="true"><summary><div class="theme-admonition theme-admonition-info admonition_aeex alert alert--info"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Special permissions</div><div class="admonitionContent_vzt9"><p>What if we want to give different sets of users different permissions. <code>chmod</code> actually accepts special numeric codes instead of stuff like <code>chmod +x</code>, as we mentioned above. Again, the numeric codes are as follows: read = 4, write = 2, execute = 1. For each user we will assign permissions based on the sum of these permissions (must be between 7 and 0).</p><p>Let’s make an example file and give everyone permission to do everything with it.</p><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">touch</span><span class="token plain"> example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"> example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rw-r--r--  </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID  </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> May </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">14</span><span class="token plain">:50 example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">chmod</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">777</span><span class="token plain"> example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"> example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-rwxrwxrwx</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID  </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> May </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">14</span><span class="token plain">:50 example</span><br></span></code></pre></div></div><p>How might we give ourselves permission to do everything with a file, but allow no one else to do anything with it. <br>
<strong>[Click for Solution]</strong></p></div></div></summary><div><div class="collapsibleContent_c3NZ"><div class="theme-admonition theme-admonition-tip admonition_aeex alert alert--success"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Solution</div><div class="admonitionContent_vzt9"><div class="language-bash codeBlockContainer_Gtvh theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_q3dc"><pre tabindex="0" class="prism-code language-bash codeBlock_ggay thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_Y19p"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">chmod</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">700</span><span class="token plain"> example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">$ </span><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-l</span><span class="token plain"> example</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-rwx------  </span><span class="token number" style="color:hsl(35, 99%, 36%)">1</span><span class="token plain"> yourNetID  </span><span class="token function" style="color:hsl(221, 87%, 60%)">users</span><span class="token plain">  </span><span class="token number" style="color:hsl(35, 99%, 36%)">0</span><span class="token plain"> May </span><span class="token number" style="color:hsl(35, 99%, 36%)">30</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">14</span><span class="token plain">:50 example</span><br></span></code></pre></div></div><p>We want all permissions, so: 4 (read) + 2 (write) + 1 (execute) = 7 for user (first position), no permissions, i.e. 0, for group (second position) and other (third position).</p></div></div></div></div></details>
<div class="theme-admonition theme-admonition-tip admonition_aeex alert alert--success"><div class="admonitionHeading_LV_G"><span class="admonitionIcon_nEU7"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Key Points</div><div class="admonitionContent_vzt9"><ul>
<li>A shell script is just a list of bash commands in a text file.</li>
<li>To make a shell script file executable, run <code>chmod +x script.sh</code>.</li>
</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/NYU-RTS/rts-docs/blob/main/docs/hpc/12_tutorial_intro_shell_hpc/06_scripts_variables_loops.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_liBE" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_si7g"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_shell_hpc/wildcards_pipes/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Wildcards and Pipes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pr-preview/pr-193/docs/hpc/tutorial_intro_hpc/intro_hpc/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Introduction to High-Performance Computing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_CFJu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#writing-a-script" class="table-of-contents__link toc-highlight">Writing a Script</a></li><li><a href="#permissions" class="table-of-contents__link toc-highlight">Permissions</a></li><li><a href="#changing-permissions" class="table-of-contents__link toc-highlight">Changing Permissions</a></li><li><a href="#executing-script" class="table-of-contents__link toc-highlight">Executing Script</a></li><li><a href="#comments" class="table-of-contents__link toc-highlight">Comments</a></li><li><a href="#shell-variables" class="table-of-contents__link toc-highlight">Shell variables</a></li><li><a href="#loops" class="table-of-contents__link toc-highlight">Loops</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:hpc@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email HPC support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:hsrn-support@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email HSRN support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:research-cloud-support@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email Research Cloud support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:srde-support@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email Secure Research Data Environment support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:genai-support@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email general GenAI support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:genai-research-support@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email GenAI for research support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://guides.nyu.edu/" target="_blank" rel="noopener noreferrer" class="footer__link-item">NYU Libraries Research Guides<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://sites.google.com/nyu.edu/forc-camp/home" target="_blank" rel="noopener noreferrer" class="footer__link-item">FORC camp<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://docs.google.com/forms/d/e/1FAIpQLSeHnmkPdR_IvWnT6a7U_V3RpfmQrpS8hjxI11FNnsZMlrBa4g/viewform" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feedback</a></li><li class="footer__item"><a class="footer__link-item" href="/pr-preview/pr-193/blog/">Announcements</a></li><li class="footer__item"><a href="https://github.com/NYU-RTS/rts-docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_i9eD"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made with 💜 in NYC!</div></div></div></footer></div>
</body>
</html>